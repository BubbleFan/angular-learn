<!doctype html>
<html lang="en" ng-app="myApp">
<head>
	<meta charset="UTF-8">
	<title>myApp</title>
	<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/angular.js/1.2.1/angular.min.js"></script>
</head>
<body>
	<style>
		input.ng-invalid{
			border: 1px solid red;
		}
		input.ng-valid{
			border: 1px solid green;
		}
	</style>
	<form name="signup_form" ng-controller="FormController" ng-submit="submitForm()" novalidate>
			
		<div ng-repeat="field in fields" ng-form="signup_form_input">
			<input type="text" name="dynamic_input" ng-required="field.isRequired" ng-model="field.name" placeholder="{{field.placeholder}}" />

			<!-- 胀检查后 && value非法 -->
			<div ng-show="signup_form_input.dynamic_input.$dirty && signup_form_input.dynamic_input.$invalid">
				<!--  -->
				<span class="error" ng-show="signup_form_input.dynamic_input.$error.required">
					this feild is required
				</span>
			</div>
		</div>

		<button type="submit" ng-disabled="signup_form.$invalid"> submit all</button>

	</form>	

</body>



<script type="text/javascript">
	var myApp = angular.module('myApp', []);

	myApp.controller("FormController", function ($scope){

		$scope.fields = [
			{
				placeholder : "Username", isRequired : true
			},
			{
				placeholder : "Password", isRequired : true
			},
			{
				placeholder : "Email(optional)", isRequired : false
			}
		];

		$scope.submitForm = function(){

			alert("it works");

		}

	});


</script>
</html>